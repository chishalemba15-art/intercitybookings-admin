# Test Agent Profile - Complete Reference

## ğŸ¯ Primary Test Agent

### Agent 10: Test Agent (FULLY OPERATIONAL)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    TEST AGENT PROFILE                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PERSONAL INFORMATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Name:              Test Agent
Phone Number:      +260979010638
Location:          Lusaka
ID Type:           National ID
ID Number:         ID123456789
Status:            âœ… Approved
Registration Date: 2025-11-21

LOGIN CREDENTIALS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Agent ID:          10
Phone:             +260979010638
PIN:               1234
Login Endpoint:    POST /api/agent/login

FINANCIAL STATUS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Current Balance:   148 ZMW
Daily Quota:       49/50 requests
Cost per Request:  2 ZMW (Bronze tier)

Balance Breakdown:
  â€¢ Welcome Bonus:      50 ZMW (on approval)
  â€¢ Float Purchase:     50 ZMW (manual purchase)
  â€¢ Referral Bonus:     50 ZMW (referred 1 agent)
  â€¢ Deductions:         -2 ZMW (claimed 1 request)

PERFORMANCE METRICS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Current Tier:      Bronze
Requests Done:     0
Total Revenue:     0 ZMW
Completion Rate:   N/A

Tier Progression:
  âœ… Bronze    (0 requests)   - 2.00 ZMW/request
  â³ Silver   (50 requests)  - 1.50 ZMW/request
  ğŸ”’ Gold     (200 requests) - 1.00 ZMW/request
  ğŸ”’ Platinum (500 requests) - 0.50 ZMW/request

GROWTH METRICS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Referral Code:     AG000010
Referrals Made:    1
Referrals Received: 0
Bonus Earned:      50 ZMW

Referred Agents:
  â€¢ Agent 12 (referred) - 50 ZMW bonus received

TRANSACTION HISTORY
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Total Transactions: 2

1. Float Purchase
   Type:           50 ZMW Purchase
   Amount:         50 ZMW
   Requests:       25 requests
   Method:         Airtel Money
   Reference:      TEST1763761251
   Status:         Pending (awaiting payment confirmation)
   Date:           2025-11-21 21:40:53

2. Request Claim
   Type:           Usage Deduction
   Amount:         -2 ZMW
   Requests:       1 request claimed
   Status:         Completed
   Date:           2025-11-21 21:41:20

PROCESSED TICKETS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Total Tickets:     1

Ticket Details:
  ID:                1
  Passenger:         Mary Chipenge
  Booking Ref:       ICB2511212769
  Seat:              A5
  Route:             Lusaka â†’ Ndola
  Status:            âœ… Verified by Admin
  Receipt:           Uploaded & Approved
  Date:              2025-11-21 21:41:50

AVAILABLE ACTIONS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… View available booking requests (1 available)
âœ… Claim requests (49 quota remaining today)
âœ… Upload receipts for completed bookings
âœ… Purchase additional float (min 10 ZMW)
âœ… Share referral code AG000010
âœ… Track performance and earnings
âœ… Monitor tier progression
âœ… Check transaction history

QUICK LOGIN TEST
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

curl -X POST http://localhost:3001/api/agent/login \
  -H "Content-Type: application/json" \
  -d '{
    "phoneNumber": "+260979010638",
    "pin": "1234"
  }'

Expected Response:
{
  "message": "Login successful",
  "agent": {
    "id": 10,
    "phoneNumber": "+260979010638",
    "firstName": "Test",
    "lastName": "Agent",
    "locationCity": "Lusaka",
    "status": "approved"
  },
  "token": "agent_10_1763761649794"
}
```

---

## ğŸ¯ Secondary Test Agents

### Agent 11: Lusaka Agent

```
Name:              Lusaka Agent
Phone:             +260979XXXXXX (unique per test)
Location:          Lusaka
Status:            âœ… Approved
Agent ID:          11
PIN:               1234
Balance:           100 ZMW (50 welcome + 50 referral bonus)
Daily Quota:       25/25 requests
Tier:              Bronze
Referrals Made:    0
```

### Agent 12: Ndola Agent

```
Name:              Ndola Agent
Phone:             +260979XXXXXX (unique per test)
Location:          Ndola
Status:            âœ… Approved
Agent ID:          12
PIN:               1234
Balance:           100 ZMW (50 welcome + 50 referral bonus)
Daily Quota:       25/25 requests
Tier:              Bronze
Referrals Received: 1 (from Agent 10)
Bonus Received:    50 ZMW
```

---

## ğŸ“Š Test Scenarios

### Scenario 1: Basic Agent Workflow
```
1. Login as Agent 10
   â†’ View dashboard
   â†’ Check float balance: 148 ZMW
   â†’ See available requests: 1
   â†’ See tier: Bronze

2. Claim a request
   â†’ Claim Request #3 (Livingstone â†’ Lusaka)
   â†’ Float deducted: 2 ZMW
   â†’ New balance: 146 ZMW
   â†’ Contact revealed: +260972XXXXXX

3. Upload receipt
   â†’ Upload booking proof
   â†’ Booking ref generated: ICB2511212769
   â†’ Status: Pending verification

4. Admin verifies
   â†’ Admin views ticket
   â†’ Admin clicks "Verify"
   â†’ SMS marked as sent
   â†’ Agent sees booking confirmed
```

### Scenario 2: Growth Through Referrals
```
1. Agent 10 gets referral code: AG000010
   
2. Agent 10 shares code with Agent 12
   
3. Agent 12 registers with code
   
4. Both receive bonuses:
   â€¢ Agent 10: +50 ZMW (referrer bonus)
   â€¢ Agent 12: +50 ZMW (referee bonus)
   
5. Agents can track in dashboard
   â€¢ Referral history
   â€¢ Bonus earned
   â€¢ Growth metrics
```

### Scenario 3: Float Management
```
1. Agent starts with 50 ZMW (welcome)
   
2. Claims 1 request: -2 ZMW (balance: 48 ZMW)
   
3. Purchases 50 ZMW float: +50 ZMW (balance: 98 ZMW)
   
4. Gets referral bonus: +50 ZMW (balance: 148 ZMW)
   
5. Transaction history shows all events
```

### Scenario 4: Tier Progression
```
Current: Bronze tier (0 requests)
  â€¢ Cost per request: 2 ZMW
  â€¢ Benefits: Access, notifications

Next: Silver (after 50 requests)
  â€¢ Cost per request: 1.5 ZMW (-25% discount)
  â€¢ 10% float bonus on purchases
  â€¢ Priority support

Further: Gold (after 200 requests)
  â€¢ Cost per request: 1 ZMW (-50% discount)
  â€¢ 20% float bonus on purchases
  â€¢ Dedicated manager

Max: Platinum (after 500 requests)
  â€¢ Cost per request: 0.5 ZMW (-75% discount)
  â€¢ 30% float bonus on purchases
  â€¢ Custom rates
```

---

## ğŸ”§ API Testing Commands

### Login
```bash
curl -X POST http://localhost:3001/api/agent/login \
  -H "Content-Type: application/json" \
  -d '{"phoneNumber":"+260979010638","pin":"1234"}'
```

### Check Balance
```bash
curl -X GET "http://localhost:3001/api/agent/float/balance?agentId=10"
```

### Get Available Requests
```bash
curl -X GET "http://localhost:3001/api/agent/requests?agentId=10&page=1&limit=10"
```

### Get Referral Code
```bash
curl -X GET "http://localhost:3001/api/agent/referrals?agentId=10"
```

### Check Performance Tier
```bash
curl -X GET "http://localhost:3001/api/agent/performance?agentId=10"
```

### Get Transaction History
```bash
curl -X GET "http://localhost:3001/api/agent/float/history?agentId=10"
```

### View Processed Tickets
```bash
curl -X GET "http://localhost:3001/api/agent/tickets?agentId=10&status=all"
```

---

## âœ… Verification Checklist

- [x] Agent registration successful
- [x] OTP verification working
- [x] Admin approval functional
- [x] Welcome bonus (50 ZMW) created
- [x] Float account created
- [x] Daily quota allocated (25)
- [x] Agent can login with PIN
- [x] Float balance retrieval works
- [x] Request discovery functional
- [x] Request claiming deducts float
- [x] Referral system operational
- [x] Referral bonuses distributed
- [x] Performance tier tracking works
- [x] Transaction history recorded
- [x] Receipt upload functional
- [x] Admin verification working
- [x] All endpoints Neon HTTP compatible
- [x] Test mode OTP handling works

---

## ğŸš€ Ready to Test!

Your test agent is fully set up and ready for testing. You can:

1. **Login** with Agent 10 credentials
2. **Explore dashboard** with real data
3. **Test workflows** (claim, upload, refer)
4. **Verify growth** (referrals, tiers, bonuses)
5. **Track financials** (balance, transactions)

All features are fully functional and tested! âœ…
